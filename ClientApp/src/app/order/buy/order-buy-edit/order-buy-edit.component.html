<!-- Dialog title -->
<mat-card mat-dialog-title class="card-title mat-headline mat-elevation-z8">{{title}}</mat-card>

<mat-horizontal-stepper #stepper>
  <!-- Step 1 -->
  <mat-step label="Order" #order>
    <!-- <ng-container *ngIf="stepper.selected == null || stepper.selected == order"> -->
    <ng-container>
      <mat-card mat-dialog-content class="mat-elevation-z4">
        <!-- Formgroup -->
        <form fxLayout="column" [formGroup]="formGroup">
          <!-- OrderNumber -->
          <mat-form-field appearance="outline">
            <mat-label>Order Number</mat-label>
            <input matInput placeholder="Order Number" formControlName="orderNumber" required autofocus>
            <mat-error *ngIf="get('orderNumber').invalid">{{getErrorMessage(get('orderNumber'))}}</mat-error>
          </mat-form-field>
          <!-- DateOfIssue -->
          <mat-form-field appearance="outline">
            <mat-label>Date of Issue</mat-label>
            <input matInput [matDatepicker]="issuePicker" placeholder="Choose a date" formControlName="dateOfIssue"
              required>
            <mat-datepicker-toggle matSuffix [for]="issuePicker"></mat-datepicker-toggle>
            <mat-datepicker locale="en-GB" #issuePicker></mat-datepicker>
            <mat-error *ngIf="get('dateOfIssue').invalid">{{getErrorMessage(get('dateOfIssue'))}}</mat-error>
          </mat-form-field>
          <!-- TimeForPayment -->
          <mat-form-field appearance="outline">
            <mat-label>Time for Payment</mat-label>
            <input matInput [matDatepicker]="paymentPicker" placeholder="Choose a date" formControlName="timeForPayment"
              required>
            <mat-datepicker-toggle matSuffix [for]="paymentPicker"></mat-datepicker-toggle>
            <mat-datepicker locale="en-GB" #paymentPicker></mat-datepicker>
            <mat-error *ngIf="get('timeForPayment').invalid">{{getErrorMessage(get('timeForPayment'))}}</mat-error>
          </mat-form-field>
          <!-- PersonId -->
          <mat-form-field appearance="outline">
            <mat-label>Supplier</mat-label>
            <mat-select #selectedSupplier placeholder="Select a supplier" formControlName="personId" required>
              <mat-option *ngFor="let supplier of suppliers" [value]="supplier.personId">
                {{supplier.firstName}} {{supplier.lastName}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="get('personId').invalid">{{getErrorMessage(get('personId'))}}</mat-error>
          </mat-form-field>
        </form>
      </mat-card>
    </ng-container>
  </mat-step>
  <!-- Step 2 -->
  <mat-step label="Details" #details>
    <ng-container *ngIf="stepper.selected == details">
      <app-order-buy-add-products [supplierId]="selectedSupplier.selected.value"></app-order-buy-add-products>
    </ng-container>
  </mat-step>
  <!-- Step 3 -->
  <mat-step label="Reviews" #reviews>
    <ng-container *ngIf="stepper.selected == reviews">
      Reviews
    </ng-container>
  </mat-step>
</mat-horizontal-stepper>
