<div fxLayout="row" fxLayoutGap="16px">
  <!-- Formgroup -->
  <form [formGroup]="formGroupDetail" fxLayout="column" fxLayoutAlign="space-around stretch">
    <!-- ProductId -->
    <mat-form-field appearance="outline">
      <mat-label>Select a product</mat-label>
      <mat-select placeholder="Select a product" formControlName="productId" required autofocus>
        <mat-option *ngFor="let product of products" [value]="product.productId">
          {{product.productName}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="get('productId').invalid">{{getErrorMessage(get('productId'))}}</mat-error>
    </mat-form-field>
    <!-- Quantity -->
    <mat-form-field appearance="outline">
      <mat-label>Quantity</mat-label>
      <input matInput placeholder="Quantity" formControlName="quantity" required>
      <mat-error *ngIf="get('quantity').invalid">{{getErrorMessage(get('quantity'))}}</mat-error>
    </mat-form-field>
    <!-- Price -->
    <mat-form-field appearance="outline">
      <mat-label>Price</mat-label>
      <input matInput placeholder="Price" formControlName="price" required>
      <mat-error *ngIf="get('price').invalid">{{getErrorMessage(get('price'))}}</mat-error>
    </mat-form-field>
    <!-- Tax -->
    <mat-form-field appearance="outline">
      <mat-label>Tax</mat-label>
      <input matInput placeholder="Tax" formControlName="tax" required>
      <mat-error *ngIf="get('tax').invalid">{{getErrorMessage(get('tax'))}}</mat-error>
    </mat-form-field>
    <!-- Rate -->
    <mat-form-field appearance="outline">
      <mat-label>Rate</mat-label>
      <input matInput placeholder="Rate" formControlName="rate" required>
      <mat-error *ngIf="get('rate').invalid">{{getErrorMessage(get('rate'))}}</mat-error>
    </mat-form-field>
    <!-- Unit -->
    <mat-form-field appearance="outline">
      <mat-label>Unit</mat-label>
      <input matInput placeholder="Unit" formControlName="unit" required>
      <mat-error *ngIf="get('unit').invalid">{{getErrorMessage(get('unit'))}}</mat-error>
    </mat-form-field>
  </form>

  <!-- Fab Button -->
  <button fxFlexAlign="center" mat-fab>
    <mat-icon matTooltip="Add products" aria-label="Add products" (click)="addProductOrder()">add</mat-icon>
  </button>

  <!-- Table Details -->
  <div fxFlex fxLayout="column" class="mat-elevation-z2">
    <!-- ProductName column -->
    <table mat-table #table [dataSource]="dataSource">
      <ng-container matColumnDef="productName">
        <th mat-header-cell *matHeaderCellDef> Product Name </th>
        <td mat-cell *matCellDef="let row"> {{row.productName}} </td>
      </ng-container>
      <!-- Quantity Column -->
      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef> Quantity </th>
        <td mat-cell *matCellDef="let row"> {{row.quantity | number}} </td>
      </ng-container>
      <!-- Price Column -->
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef> Price </th>
        <td mat-cell *matCellDef="let row"> {{row.price | currency}} </td>
      </ng-container>
      <!-- Tax Column -->
      <ng-container matColumnDef="tax">
        <th mat-header-cell *matHeaderCellDef> Tax </th>
        <td mat-cell *matCellDef="let row"> {{row.tax | percent}} </td>
      </ng-container>
      <!-- Rate Column -->
      <ng-container matColumnDef="rate">
        <th mat-header-cell *matHeaderCellDef> Rate </th>
        <td mat-cell *matCellDef="let row"> {{row.rate | number}} </td>
      </ng-container>
      <!-- Unit Column -->
      <ng-container matColumnDef="unit">
        <th mat-header-cell *matHeaderCellDef> Unit </th>
        <td mat-cell *matCellDef="let row"> {{row.unit}} </td>
      </ng-container>
      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell mat-header-cell *matHeaderCellDef class="actions">
        </th>
        <td mat-cell *matCellDef="let row">
          <button matTooltip="Delete product" mat-icon-button color="warn" (click)="DeleteProductFromOrder(row)">
            <mat-icon aria-label="Delete">delete</mat-icon>
          </button>
        </td>
      </ng-container>
      <!-- Header & footer -->
      <tr mat-header-row *matHeaderRowDef="displayedcolumn; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedcolumn"></tr>
    </table>
    <mat-paginator class="mat-paginator-sticky" [pageSize]="25" fxFlex="50" [pageSizeOptions]="[8, 16, 25, 100]"
      showFirstLastButtons></mat-paginator>
  </div>

</div>
