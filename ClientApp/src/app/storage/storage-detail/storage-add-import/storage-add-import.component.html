<div fxLayout="row" fxLayoutGap="32px">
  <section id="form-group">
    <!-- Form -->
    <form [formGroup]="formGroup" fxLayout="column" fxLayoutAlign="start stretch">
      <h2 class="mat-h2" fxFlexAlign="center">Import/Export Products</h2>
      <!-- Date -->
      <mat-form-field appearance="outline">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="datePicker" placeholder="Choose a date" formControlName="date" required />
        <mat-datepicker-toggle matSuffix [for]="datePicker"></mat-datepicker-toggle>
        <mat-datepicker locale="en-GB" #datePicker></mat-datepicker>
      </mat-form-field>
      <!-- Product -->
      <mat-form-field appearance="outline">
        <mat-label>Select a product</mat-label>
        <mat-select placeholder="Select a product" formControlName="product" name="product" required>
          <mat-option *ngFor="let product of productsSelect" [value]="product">
            {{ product.productName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <!-- Quantity -->
      <mat-form-field appearance="outline">
        <mat-label>Quantity</mat-label>
        <input matInput type="number" formControlName="quantity" placeholder="Quantity" required />
      </mat-form-field>
      <!-- Type -->
      <div class="type-slide-toggle" fxLayout="column" fxLayoutAlign="start end">
        <mat-slide-toggle labelPosition="before" formControlName="type">Type</mat-slide-toggle>
        <mat-hint>Hint: On = Import; Off = Export</mat-hint>
      </div>

      <!-- Note -->
      <p>Note: A product can only be import/export once per day.</p>

      <!-- Add button -->
      <button mat-button color="primary" (click)="addToTable()">Add</button>
    </form>
  </section>

  <!-- Table to add -->
  <section id="table-review" fxFlex fxLayout="column">
    <h2 class="mat-h2" fxFlexAlign="center">Reviews</h2>
    <table *ngIf="importTable.length > 0" class="import-table" mat-table [dataSource]="tableSource">
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let row">{{ row.date | date: 'dd/MM/yyyy' }}</td>
      </ng-container>
      <ng-container matColumnDef="productName">
        <th mat-header-cell *matHeaderCellDef>Product Name</th>
        <td mat-cell *matCellDef="let row">{{ row.productName }}</td>
      </ng-container>
      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef>Quantity</th>
        <td mat-cell *matCellDef="let row">{{ row.quantity | number }}</td>
      </ng-container>
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>Type</th>
        <td mat-cell *matCellDef="let row">{{ row.type | import }}</td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row">
          <button mat-icon-button color="warn" (click)="removeFromTable(row)">
            <mat-icon>remove_circle</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="['date', 'productName', 'quantity', 'type', 'actions']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['date', 'productName', 'quantity', 'type', 'actions']"></tr>
    </table>
    <!-- Submit button -->
    <button mat-raised-button (click)="submit()">Submit</button>
  </section>
</div>
